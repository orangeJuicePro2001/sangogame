{
    "compAutoOrderLimitHeight": 446,
    "id": 3003,
    "blockList": [
        {
            "name": "镜头设置",
            "blockAttrs": [
                {
                    "attr": {
                        "id": "49650997597_0.021683025413888668",
                        "varName": "timeType",
                        "varType": 0,
                        "compData": {
                            "compType": 2,
                            "compParam": {
                                "items": "立即变更,渐变过渡",
                                "showIndex": false
                            }
                        },
                        "defaultValue": "1",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "变更方式",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 60,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 9,
                    "x": 12,
                    "width": 201,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49650997597_0.5301556718413918",
                        "varName": "time",
                        "varType": 0,
                        "compData": {
                            "compType": 0,
                            "compParam": {
                                "lowerLimit": 1,
                                "upperLimit": 1000,
                                "stepValue": 1,
                                "limitInteger": true,
                                "lockTextLimit": false,
                                "xDragEnabled": true,
                                "yDragEnabled": true
                            }
                        },
                        "defaultValue": "30",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "持续帧数",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49650997597_0.021683025413888668",
                            "value": 1,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 12,
                    "x": 224,
                    "width": 110,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49650997597_0.617576712508638",
                        "varName": "trans",
                        "varType": 1,
                        "compData": {
                            "compType": 41,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "过渡",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49650997597_0.021683025413888668",
                            "value": 1,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 12,
                    "x": 344,
                    "width": 214,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49148958309_0.7344395669752946",
                        "varName": "cameraX",
                        "varType": 0,
                        "compData": {
                            "compType": 0,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "镜头水平位置",
                        "alias": "x",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686137631_0.7288484103354917",
                            "value": false,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 45,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686543327_0.9676856680905892",
                        "varName": "cameraXVar",
                        "varType": 0,
                        "compData": {
                            "compType": 6,
                            "compParam": {}
                        },
                        "defaultValue": "1",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "镜头水平位置",
                        "alias": "x",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686137631_0.7288484103354917",
                            "value": true,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 45,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49148958493_0.6499754565262843",
                        "varName": "cameraY",
                        "varType": 0,
                        "compData": {
                            "compType": 0,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "镜头垂直位置",
                        "alias": "y",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686309135_0.13161172166112545",
                            "value": false,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 83,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686639599_0.15183480047043307",
                        "varName": "cameraYVar",
                        "varType": 0,
                        "compData": {
                            "compType": 6,
                            "compParam": {}
                        },
                        "defaultValue": "1",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "镜头垂直位置",
                        "alias": "y",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686309135_0.13161172166112545",
                            "value": true,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 83,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49148987066_0.3583675697132047",
                        "varName": "cameraZ",
                        "varType": 0,
                        "compData": {
                            "compType": 0,
                            "compParam": {
                                "lowerLimit": 0,
                                "upperLimit": 1000,
                                "stepValue": 0.01,
                                "limitInteger": false,
                                "lockTextLimit": false,
                                "xDragEnabled": true,
                                "yDragEnabled": true
                            }
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "相机深度坐标",
                        "alias": "z",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686209818_0.08466516683406988",
                            "value": false,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 122,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686651066_0.32740252952703264",
                        "varName": "cameraZVar",
                        "varType": 0,
                        "compData": {
                            "compType": 6,
                            "compParam": {
                                "lowerLimit": 0,
                                "upperLimit": 1000,
                                "stepValue": 0.01,
                                "limitInteger": false,
                                "lockTextLimit": false,
                                "xDragEnabled": true,
                                "yDragEnabled": true
                            }
                        },
                        "defaultValue": "1",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "相机深度坐标",
                        "alias": "z",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686209818_0.08466516683406988",
                            "value": true,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 122,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49148958658_0.3747186968851193",
                        "varName": "cameraRotation",
                        "varType": 0,
                        "compData": {
                            "compType": 0,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "相机旋转度",
                        "alias": "旋转度",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686261487_0.08116306184861322",
                            "value": false,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 160,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686684602_0.06137446116761103",
                        "varName": "cameraRotationVar",
                        "varType": 0,
                        "compData": {
                            "compType": 6,
                            "compParam": {}
                        },
                        "defaultValue": "1",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "相机旋转度",
                        "alias": "旋转度",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": false,
                        "titleWidth": 40,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [
                        {
                            "attrID": "49686261487_0.08116306184861322",
                            "value": true,
                            "isExpression": false,
                            "jsCode": null,
                            "tsCode": null,
                            "codeName": null
                        }
                    ],
                    "y": 160,
                    "x": 13,
                    "width": 200,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49650898066_0.4217425805501225",
                        "varName": "higher",
                        "varType": 2,
                        "compData": {
                            "compType": 15,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "高级设定",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 198,
                    "x": 8,
                    "width": 115,
                    "height": 32
                }
            ],
            "blockCondition": [],
            "blockHeight": 239,
            "autoOrder": true,
            "cmdColor": "#ffa64c",
            "hideBlockTitle": false,
            "cmdIcon": "asset/image/command/eP_icon_SetShots_warmyellow.png"
        },
        {
            "name": "高级设定",
            "blockAttrs": [
                {
                    "attr": {
                        "id": "49686137631_0.7288484103354917",
                        "varName": "xUseVar",
                        "varType": 2,
                        "compData": {
                            "compType": 15,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "相机水平坐标使用变量",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 10,
                    "x": 15,
                    "width": 186,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686309135_0.13161172166112545",
                        "varName": "yUseVar",
                        "varType": 2,
                        "compData": {
                            "compType": 15,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "相机垂直坐标使用变量",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 40,
                    "x": 15,
                    "width": 186,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686209818_0.08466516683406988",
                        "varName": "zUseVar",
                        "varType": 2,
                        "compData": {
                            "compType": 15,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "相机深度坐标使用变量",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 70,
                    "x": 15,
                    "width": 146,
                    "height": 32
                },
                {
                    "attr": {
                        "id": "49686261487_0.08116306184861322",
                        "varName": "roUseVar",
                        "varType": 2,
                        "compData": {
                            "compType": 15,
                            "compParam": {}
                        },
                        "defaultValue": "",
                        "hideMode": false,
                        "useCommand": false,
                        "onlyPointTo": false,
                        "moduleID": 1,
                        "dataStructureID": 1,
                        "arrayMode": false,
                        "arrayLength": 100,
                        "arrayAllowDelete": false,
                        "arrayAllowSwap": false,
                        "arrayAllowUpdate": false,
                        "accessMode": 1,
                        "syncMode": 0,
                        "attrTips": "",
                        "alias": "相机旋转度使用变量",
                        "onlyConfig": false,
                        "preview": false,
                        "autoTitleWidth": true,
                        "titleWidth": 100,
                        "eyeShow": true,
                        "lockBlock": false
                    },
                    "attrConditions": [],
                    "y": 100,
                    "x": 15,
                    "width": 146,
                    "height": 32
                }
            ],
            "blockCondition": [
                {
                    "attrID": "49650898066_0.4217425805501225",
                    "value": true,
                    "isExpression": false,
                    "jsCode": null,
                    "tsCode": null,
                    "codeName": null
                }
            ],
            "blockHeight": 148,
            "autoOrder": true
        }
    ],
    "cmdPreviewTS": "//------------------------------------------------------------------------------------------------------\r\n// 编辑器预览窗口运行时提供的系统变量\r\n// 关于预览的流程：\r\n// -- 1.imageLayerPassageClear 每已使用的通道x每已使用的指令\r\n// -- 2.runCommand 每个指令按顺序执行一遍\r\n// -- 3.imageLayerPassageStart 每已使用的通道x每已使用的指令\r\n// 关于播放的流程\r\n// -- 1.imageLayerPassageClear 每已使用的通道x每已使用的指令\r\n// -- 2.runCommand 每个指令按顺序播放\r\n//------------------------------------------------------------------------------------------------------\r\n/**\r\n * 当前自定义指令的编号\r\n */\r\ndeclare var commandID: number;\r\n/**\r\n * 图像层通道数据\r\n */\r\ndeclare var imageLayerPassageData: any[];\r\n/**\r\n * 图像层显示对象容器\r\n */\r\ndeclare var imageLayer: GameImageLayer;\r\n/**\r\n * 界面层显示对象容器\r\n */\r\ndeclare var uiLayer: GameSprite;\r\n/**\r\n * 预览窗口\r\n */\r\ndeclare var previewWin: {\r\n    /**\r\n     * 清理全部事件指令产生的预览效果\r\n     */\r\n    clearData: Function;\r\n    /**\r\n     * 设置数据，刷新预览效果直到当前选中的指令行\r\n     */\r\n    setData: Function;\r\n    /**\r\n     * 当前选中的指令\r\n     */\r\n    currentSelectCmd: Command;\r\n    /**\r\n     * 视图区域是否右键移动过\r\n     */\r\n    viewAreaRightMouseMove: boolean;\r\n    /**\r\n     * 允许显示全部对象\r\n     */\r\n    allowAllDisplayObject: boolean;\r\n    /**\r\n     * 对象操作工具\r\n     */\r\n    operateObjectTool: {\r\n        // 刷新对象操作工具，比如来自其他地方更改了对象的位置或尺寸等，可使用该函数刷新\r\n        refresh: Function;\r\n        // 选中对象\r\n        selectObjects: (sp: GameSprite[]) => void;\r\n        // 需要排除缩放和旋转工具的对象\r\n        addExcludeOperactionObject: (sp: GameSprite) => void\r\n    }\r\n    /**\r\n     * 图像层镜头操作工具\r\n     * onChange(changeType:number,cameraX:number,cameraY:number,cameraZ:number,cameraRotation:number)\r\n     */\r\n    openCameraTools: (onChange: Function) => void;\r\n    /**\r\n     * 刷新图像层镜头工具，根据当前镜头值\r\n     */\r\n    refreshCameraTools: Function;\r\n    /**\r\n     * 选中事件指令\r\n     * @param cmd 事件指令\r\n     * @param sendEvent 派发事件 默认=false 派发事件会刷新属性栏、预览窗口等\r\n     */\r\n    selectCmdMessageByCmd(cmd: Command, sendEvent?: boolean);\r\n    /**\r\n     * 修改指令属性\r\n     * @param cmd 需要修改的指令\r\n     * @param varName 参数变量名称\r\n     * @param newValue 新的值\r\n     */\r\n    modifyCommandParam: (cmd: Command, varName: string, newValue: any) => void;\r\n    /**\r\n     * 新增指令 默认是默认值，如果有写入参数的话则以参数为准 varNameValue\r\n     * @param customID 自定义ID\r\n     * @param varNameValue 额外的变量值，如存在则优先使用该值，否则使用自定义编辑器中的默认值，如 {dpX:100,dpY:200}\r\n     * @param selectedIndex [可选] 默认值=-2  -3=当前选中（之后） -2=当前选中（之前） -1=最尾端 0-N=自定义 \r\n     * @param refreshPreViewArea [可选] 默认值=true 刷新预览区\r\n     */\r\n    insertCustomCMD(customID: number, varNameValue: any, selectedIndex?: number, refreshPreViewArea?: boolean): Command;\r\n    /**\r\n     * 更改显示层\r\n     * @param selectedIndex 0-界面层 1-图像层\r\n     */\r\n    changeLayer(selectedIndex: number): void;\r\n    /**\r\n     * 创建菜单\r\n     * var menuData:any[] = [\r\n               {\r\n                   label:\"重命名\",\r\n                   splitLine:false,// 是否显示分割线\r\n                   children:[], // 存放和本身这个对象是一样的格式\r\n                   execute:\"functionName\", // 点击后执行的方法名称\r\n                   shortcutKey:\"\", //显示的快捷键名称\r\n                   menuHotKey:\"\", //实际作用的快捷键名称 对应Laya.KeyBoard的值 如A\r\n                   enabled:true, // 是否可用，不填写表示true\r\n                   visible:true, // 是否显示，不填写表示true\r\n\t\t\t\t   selected:true, // 如果存在则以打钩的形式选择此项\r\n\t\t\t\t   group:\"myGroupName\" // 配合selected，如若存在则同组单选\r\n               }\r\n           ];\r\n     * @param menuData 菜单数据\r\n     * @param x 全局坐标X\r\n     * @param y 全局坐标Y\r\n     * @param executeDomain 函数作用域\r\n     */\r\n    createMenu(menuData: any[], x: number, y: number, executeDomain: any);\r\n}\r\n//------------------------------------------------------------------------------------------------------\r\n// 通道数据\r\n//------------------------------------------------------------------------------------------------------\r\ndeclare class CameraData {\r\n    // ====> system 必要项\r\n    /**\r\n     * 通道编号\r\n     */\r\n    passageID: number;\r\n    /**\r\n     * 类别，一般用于区分显示对象，如图片、动画、立绘、界面都是属于不同的类别\r\n     */\r\n    type: string;\r\n    /**\r\n     * 记录关联的指令\r\n     */\r\n    cmd: Command;\r\n    /**\r\n     * 当通道覆盖时调用的函数，以便清理掉。如显示了2号图片或移动了号图片，再次显示2号图片时会清理掉此前显示的图片或移动行为\r\n     */\r\n    onCoverPassage: Function;\r\n    // ====> custom 自定义属性\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n    rotation: number;\r\n    timeFunc: Function\r\n}\r\n//------------------------------------------------------------------------------------------------------\r\n// 自定义变量\r\n//------------------------------------------------------------------------------------------------------\r\nvar passageType = \"gcImageLayerCamera\";\r\n//------------------------------------------------------------------------------------------------------\r\n// [everyone used command] 逐指令行目执行\r\n//------------------------------------------------------------------------------------------------------\r\n/**\r\n * 逐指令执行：对应事件下按照从上至下的顺序逐行执行，如果是该自定义指令时则会执行该函数\r\n * 该函数用于编辑器预览和播放，如果分歧面板中筛选不经过的事件指令则不会执行该函数。\r\n * 比如事件页中有3个该指令，则按照顺序执行3次该函数\r\n * @param cmdParams 指令的自定义参数数据，根据用户设定值\r\n * @param cmd 对应的指令对象\r\n * @param isPlayMode 是否是播放模式，否则是普通的预览模式\r\n */\r\nfunction runCommand(cmdParams: ThisCommandParams, cmd: Command, isPlayMode: boolean) {\r\n    // 如果使用了变量则忽略掉该镜头指令\r\n    if (cmdParams.xUseVar || cmdParams.yUseVar || cmdParams.zUseVar || cmdParams.roUseVar) {\r\n        return;\r\n    }\r\n    // 获取镜头所在的通道数据（图像层这里规定了固定占用10001号通道）\r\n    var passageID = 10001;\r\n    var passageData: CameraData = imageLayerPassageData[passageID];\r\n    if (!passageData) passageData = imageLayerPassageData[passageID] = {} as any;\r\n    passageData.type = passageType;\r\n    passageData.cmd = cmd;\r\n    // 播放模式的情况\r\n    if (isPlayMode) {\r\n        // 清理时间函数\r\n        if (passageData.timeFunc) {\r\n            os.remove_ENTERFRAME(passageData.timeFunc, this);\r\n        }\r\n        var m = {\r\n            time: cmdParams.time,\r\n            curTime: 1,\r\n            x: imageLayer.camera.viewPort.x,\r\n            y: imageLayer.camera.viewPort.y,\r\n            z: imageLayer.camera.z,\r\n            rotation: imageLayer.camera.rotation,\r\n            x2: cmdParams.cameraX - imageLayer.camera.viewPort.x,\r\n            y2: cmdParams.cameraY - imageLayer.camera.viewPort.y,\r\n            z2: cmdParams.cameraZ - imageLayer.camera.z,\r\n            rotation2: cmdParams.cameraRotation - imageLayer.camera.rotation,\r\n            transData: GameUtils.getTransData(cmdParams.trans)\r\n        }\r\n        if (cmdParams.timeType == 0) {\r\n            imageLayer.camera.viewPort.x = cmdParams.cameraX;\r\n            imageLayer.camera.viewPort.y = cmdParams.cameraY;\r\n            imageLayer.camera.z = cmdParams.cameraZ;\r\n            imageLayer.camera.rotation = cmdParams.cameraRotation;\r\n        }\r\n        else {\r\n            var f: Function;\r\n            os.add_ENTERFRAME(f = passageData.timeFunc = (cmdParams: ThisCommandParams) => {\r\n                var per = m.curTime / m.time;\r\n                var value = GameUtils.getValueByTransData(m.transData, per);\r\n                imageLayer.camera.viewPort.x = m.x2 * value + m.x;\r\n                imageLayer.camera.viewPort.y = m.y2 * value + m.y;\r\n                imageLayer.camera.z = m.z2 * value + m.z;\r\n                imageLayer.camera.rotation = m.rotation2 * value + m.rotation;\r\n                m.curTime++;\r\n                if (per == 1) {\r\n                    os.remove_ENTERFRAME(arguments.callee, this);\r\n                }\r\n                imageLayer.updateFrame(true);\r\n            }, this, [cmdParams]);\r\n            f.apply(this, [cmdParams]);\r\n        }\r\n    }\r\n    else {\r\n        passageData.x = cmdParams.cameraX;\r\n        passageData.y = cmdParams.cameraY;\r\n        passageData.z = cmdParams.cameraZ;\r\n        passageData.rotation = cmdParams.cameraRotation;\r\n    }\r\n}\r\n//------------------------------------------------------------------------------------------------------\r\n// 属性面板修改：当修改该指令的属性时，只会执行该指令对应的「指令源」的这些函数\r\n// 如A指令来自自定义指令32号，每次通过属性面板快速修改A指令的参数b时，则会执行32号指令的下面2个函数\r\n// [current used command] \r\n//------------------------------------------------------------------------------------------------------\r\n/**\r\n * 当属性面板中的属性修改前\r\n * @param cmd 对应的指令\r\n * @param cmdParams 对应指令的参数 \r\n * @param varName 修改的属性名\r\n */\r\nfunction onCommandAttributeBeforeChange(cmd: Command, cmdParams: ThisCommandParams, varName: string) {\r\n\r\n}\r\n/**\r\n * 当属性面板中的属性修改后\r\n * @param cmd 对应的指令\r\n * @param cmdParams 对应指令的参数 \r\n * @param varName 修改的属性名\r\n * @param newValue 修改后的值\r\n */\r\nfunction onCommandAttributeChange(cmd: Command, cmdParams: ThisCommandParams, varName: string, value: any) {\r\n    // 如果使用了变量则忽略掉该镜头指令\r\n    if (varName == \"xUseVar\" || varName == \"yUseVar\" || varName == \"zUseVar\" || varName == \"roUseVar\") {\r\n        previewWin.setData(false);\r\n        return;\r\n    }\r\n    // 如果使用了变量的话就忽略掉\r\n    if (cmdParams.xUseVar || cmdParams.yUseVar || cmdParams.zUseVar || cmdParams.roUseVar) {\r\n        return;\r\n    }\r\n    // 获取通道数据\r\n    if (varName == \"cameraX\") {\r\n        imageLayer.camera.viewPort.x = value;\r\n    }\r\n    else if (varName == \"cameraY\") {\r\n        imageLayer.camera.viewPort.y = value;\r\n    }\r\n    else if (varName == \"cameraZ\") {\r\n        imageLayer.camera.z = value;\r\n        this.refreshCameraTools();\r\n    }\r\n    else if (varName == \"cameraRotation\") {\r\n        imageLayer.camera.rotation = value;\r\n        this.refreshCameraTools();\r\n    }\r\n    Callback.CallLaterBeforeRender(this.operateObjectTool.refresh, this.operateObjectTool);\r\n}\r\n//------------------------------------------------------------------------------------------------------\r\n// 对象操作工具\r\n// [everyone used command type] 遍历每个执行过的自定义指令类别\r\n//------------------------------------------------------------------------------------------------------\r\n/**\r\n * 当操作工具移动对象时\r\n * @param realSelObjs 选中的对象\r\n */\r\nfunction imageLayerOnToolsChangePostion(realSelObjs: GameSprite[]): void {\r\n\r\n}\r\n/**\r\n * 当操作工具缩放时\r\n * @param realSelObjs 选中的对象\r\n */\r\nfunction imageLayerOnToolsChangeSize(realSelObjs: GameSprite[]) {\r\n\r\n}\r\n/**\r\n * 当操作工具旋转时\r\n * @param realSelObjs 选中的对象\r\n */\r\nfunction imageLayerOnToolsChangeRotation(realSelObjs: GameSprite[]) {\r\n\r\n}\r\n/**\r\n * 当操作工具开始操作时\r\n */\r\nfunction imageLayerOnToolsChangeStart(realSelObjs: GameSprite[]) {\r\n\r\n}\r\n/**\r\n * 当操作工具结束操作时\r\n */\r\nfunction imageLayerOnToolsChangeEnd(realSelObjs: GameSprite[]) {\r\n\r\n}\r\n/**\r\n * 当操作工具选中对象时\r\n */\r\nfunction imageLayerOnToolsSelectObject(realSelObjs: GameSprite[]) {\r\n\r\n}\r\n//------------------------------------------------------------------------------------------------------\r\n// 图像层相关 遍历每个已使用的通道，每个已使用的通道再遍历已使用的指令，调用下面的函数\r\n// [everyone passage] x [everyone used command type]\r\n//------------------------------------------------------------------------------------------------------\r\n/**\r\n * 清理函数：每次刷新前调用此函数进行清理\r\n * @param passageID 通道\r\n * @param passageData 通道储存的数据\r\n */\r\nfunction imageLayerPassageClear(passageID: number, passageData: CameraData) {\r\n    // -- 该通道是镜头的话：清理镜头移动并重置镜头\r\n    if (passageData.type == passageType) {\r\n        if (passageData.timeFunc) {\r\n            os.remove_ENTERFRAME(passageData.timeFunc, this);\r\n        }\r\n        imageLayer.camera.viewPort.x = 0;\r\n        imageLayer.camera.viewPort.y = 0;\r\n        imageLayer.camera.z = 0;\r\n        imageLayer.camera.rotation = 0;\r\n        imageLayer.updateFrame();\r\n    }\r\n}\r\n/**\r\n * 开始函数\r\n * @param passageID 通道\r\n * @param passageData 通道储存的数据\r\n */\r\nfunction imageLayerPassageStart(passageID: number, passageData: CameraData) {\r\n    // -- 该通道是镜头的话：直接设置，此处用于窗口预览而非播放\r\n    if (passageData.type == passageType) {\n        passageData.onCoverPassage = imageLayerPassageClear;// v0.985 upgrader\n\r\n        imageLayer.camera.viewPort.x = passageData.x;\r\n        imageLayer.camera.viewPort.y = passageData.y;\r\n        imageLayer.camera.z = passageData.z;\r\n        imageLayer.camera.rotation = passageData.rotation;\r\n        imageLayer.updateFrame();\r\n        if (passageData.cmd == previewWin.currentSelectCmd) {\r\n            // 打开图像层镜头操作工具\r\n            previewWin.openCameraTools((changeType: number, cameraX: number, cameraY: number, cameraZ: number, cameraRotation: number) => {\r\n                if (changeType == 0) {\r\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraRotation\", cameraRotation);\r\n                }\r\n                else if (changeType == 1) {\r\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraX\", cameraX);\r\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraY\", cameraY);\r\n                }\r\n                else if (changeType == 2) {\r\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraZ\", cameraZ);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n",
    "cmdPreviewJS": "var passageType = \"gcImageLayerCamera\";\nfunction runCommand(cmdParams, cmd, isPlayMode) {\n    var _this = this;\n    if (cmdParams.xUseVar || cmdParams.yUseVar || cmdParams.zUseVar || cmdParams.roUseVar) {\n        return;\n    }\n    var passageID = 10001;\n    var passageData = imageLayerPassageData[passageID];\n    if (!passageData)\n        passageData = imageLayerPassageData[passageID] = {};\n    passageData.type = passageType;\n    passageData.cmd = cmd;\n    if (isPlayMode) {\n        if (passageData.timeFunc) {\n            os.remove_ENTERFRAME(passageData.timeFunc, this);\n        }\n        var m = {\n            time: cmdParams.time,\n            curTime: 1,\n            x: imageLayer.camera.viewPort.x,\n            y: imageLayer.camera.viewPort.y,\n            z: imageLayer.camera.z,\n            rotation: imageLayer.camera.rotation,\n            x2: cmdParams.cameraX - imageLayer.camera.viewPort.x,\n            y2: cmdParams.cameraY - imageLayer.camera.viewPort.y,\n            z2: cmdParams.cameraZ - imageLayer.camera.z,\n            rotation2: cmdParams.cameraRotation - imageLayer.camera.rotation,\n            transData: GameUtils.getTransData(cmdParams.trans)\n        };\n        if (cmdParams.timeType == 0) {\n            imageLayer.camera.viewPort.x = cmdParams.cameraX;\n            imageLayer.camera.viewPort.y = cmdParams.cameraY;\n            imageLayer.camera.z = cmdParams.cameraZ;\n            imageLayer.camera.rotation = cmdParams.cameraRotation;\n        }\n        else {\n            var f;\n            os.add_ENTERFRAME(f = passageData.timeFunc = function (cmdParams) {\n                var per = m.curTime / m.time;\n                var value = GameUtils.getValueByTransData(m.transData, per);\n                imageLayer.camera.viewPort.x = m.x2 * value + m.x;\n                imageLayer.camera.viewPort.y = m.y2 * value + m.y;\n                imageLayer.camera.z = m.z2 * value + m.z;\n                imageLayer.camera.rotation = m.rotation2 * value + m.rotation;\n                m.curTime++;\n                if (per == 1) {\n                    os.remove_ENTERFRAME(arguments.callee, _this);\n                }\n                imageLayer.updateFrame(true);\n            }, this, [cmdParams]);\n            f.apply(this, [cmdParams]);\n        }\n    }\n    else {\n        passageData.x = cmdParams.cameraX;\n        passageData.y = cmdParams.cameraY;\n        passageData.z = cmdParams.cameraZ;\n        passageData.rotation = cmdParams.cameraRotation;\n    }\n}\nfunction onCommandAttributeBeforeChange(cmd, cmdParams, varName) {\n}\nfunction onCommandAttributeChange(cmd, cmdParams, varName, value) {\n    if (varName == \"xUseVar\" || varName == \"yUseVar\" || varName == \"zUseVar\" || varName == \"roUseVar\") {\n        previewWin.setData(false);\n        return;\n    }\n    if (cmdParams.xUseVar || cmdParams.yUseVar || cmdParams.zUseVar || cmdParams.roUseVar) {\n        return;\n    }\n    if (varName == \"cameraX\") {\n        imageLayer.camera.viewPort.x = value;\n    }\n    else if (varName == \"cameraY\") {\n        imageLayer.camera.viewPort.y = value;\n    }\n    else if (varName == \"cameraZ\") {\n        imageLayer.camera.z = value;\n        this.refreshCameraTools();\n    }\n    else if (varName == \"cameraRotation\") {\n        imageLayer.camera.rotation = value;\n        this.refreshCameraTools();\n    }\n    Callback.CallLaterBeforeRender(this.operateObjectTool.refresh, this.operateObjectTool);\n}\nfunction imageLayerOnToolsChangePostion(realSelObjs) {\n}\nfunction imageLayerOnToolsChangeSize(realSelObjs) {\n}\nfunction imageLayerOnToolsChangeRotation(realSelObjs) {\n}\nfunction imageLayerOnToolsChangeStart(realSelObjs) {\n}\nfunction imageLayerOnToolsChangeEnd(realSelObjs) {\n}\nfunction imageLayerOnToolsSelectObject(realSelObjs) {\n}\nfunction imageLayerPassageClear(passageID, passageData) {\n    if (passageData.type == passageType) {\n        if (passageData.timeFunc) {\n            os.remove_ENTERFRAME(passageData.timeFunc, this);\n        }\n        imageLayer.camera.viewPort.x = 0;\n        imageLayer.camera.viewPort.y = 0;\n        imageLayer.camera.z = 0;\n        imageLayer.camera.rotation = 0;\n        imageLayer.updateFrame();\n    }\n}\nfunction imageLayerPassageStart(passageID, passageData) {\n    if (passageData.type == passageType) {\n        passageData.onCoverPassage = imageLayerPassageClear;// v0.985 upgrader\n\n        imageLayer.camera.viewPort.x = passageData.x;\n        imageLayer.camera.viewPort.y = passageData.y;\n        imageLayer.camera.z = passageData.z;\n        imageLayer.camera.rotation = passageData.rotation;\n        imageLayer.updateFrame();\n        if (passageData.cmd == previewWin.currentSelectCmd) {\n            previewWin.openCameraTools(function (changeType, cameraX, cameraY, cameraZ, cameraRotation) {\n                if (changeType == 0) {\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraRotation\", cameraRotation);\n                }\n                else if (changeType == 1) {\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraX\", cameraX);\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraY\", cameraY);\n                }\n                else if (changeType == 2) {\n                    previewWin.modifyCommandParam(passageData.cmd, \"cameraZ\", cameraZ);\n                }\n            });\n        }\n    }\n}\n",
    "fastModifyAttribute": true,
    "compAutoOrder": true,
    "name": "设置图像层镜头",
    "isCustomPhraseDesc": true,
    "customPhraseDescTS": "// 根据属性名称值编写自定义短语描述，如：\"我的短语是\"+attrs.xxx\n// 使用下拉框组件的变量attrs.xxx有对应的attrs.xxxItems的属性以便获得标签名集合\n// 获取自定义模块的数据名称的函数：getModuleDataName(moduleID:number,dataID:number):string;\n// 获取各种列表内数据名称的函数：getTypeDataListName(typeID: number, dataID: number):string;\n// -- typeID ：0-全局变量 1-全局开关 2-全局字符串 3-玩家变量 4-玩家开关 5-玩家字符串\n//           ：6-场景列表 7-场景对象模型列表 8-图块列表 9-行走图列表 10-行走图动作列表 11-立绘列表 12-立绘表情列表\n//           ：13-公共事件 14-对话框列表 15-动画列表 16-动画信号列表 17-界面列表 18-数据结构列表 19-自定义模块列表\n//           ：20-自定义命令列表 21-自定义行为列表 22-自动元件列表 23-行走图部件列表 24-立绘部件列表\nvar str = ``;\nstr += `${attrs.timeTypeItems[attrs.timeType]} `;\nif (attrs.timeType == 1) {\n    str += attrs.time + \"帧\"\n}\nvar xStr: any = attrs.xUseVar ? `@${attrs.cameraXVar}` : Math.floor(attrs.cameraX);\nvar yStr: any = attrs.yUseVar ? `@${attrs.cameraYVar}` : Math.floor(attrs.cameraY);\nvar zStr: any = attrs.zUseVar ? `@${attrs.cameraZVar}` : (attrs.cameraZ.toFixed(2));\nvar roStr = attrs.roUseVar ? `@${attrs.cameraRotationVar}` : attrs.cameraRotation;\nstr += ` 位置(${xStr},${yStr}) 深度=${zStr} 旋转度=${roStr}`;\nstr;",
    "customPhraseDescJS": "var str = \"\";\nstr += attrs.timeTypeItems[attrs.timeType] + \" \";\nif (attrs.timeType == 1) {\n    str += attrs.time + \"帧\";\n}\nvar xStr = attrs.xUseVar ? \"@\" + attrs.cameraXVar : Math.floor(attrs.cameraX);\nvar yStr = attrs.yUseVar ? \"@\" + attrs.cameraYVar : Math.floor(attrs.cameraY);\nvar zStr = attrs.zUseVar ? \"@\" + attrs.cameraZVar : (attrs.cameraZ.toFixed(2));\nvar roStr = attrs.roUseVar ? \"@\" + attrs.cameraRotationVar : attrs.cameraRotation;\nstr += \" \\u4F4D\\u7F6E(\" + xStr + \",\" + yStr + \") \\u6DF1\\u5EA6=\" + zStr + \" \\u65CB\\u8F6C\\u5EA6=\" + roStr;\nstr;\n"
}